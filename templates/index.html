<!DOCTYPE html>
<html>
<head>
    <title>GWL Cyber RAT</title>
    <style>
        body { background: #000; color: #00ff41; font-family: 'Courier New', monospace; padding: 40px; text-align: center; }
        .box { background: #0a0a0a; padding: 25px; border: 2px solid #00ff41; border-radius: 5px; box-shadow: 0 0 15px #00ff41; display: inline-block; }
        input { padding: 12px; width: 320px; background: #000; color: #0f0; border: 1px solid #0f0; outline: none; margin-bottom: 15px; }
        button { padding: 12px 25px; background: #00ff41; color: #000; border: none; font-weight: bold; cursor: pointer; }
        #status-box { margin-top: 20px; text-align: left; font-size: 14px; border: 1px solid #333; padding: 10px; }
        .green { color: #00ff41; }
        .red { color: #ff0000; font-weight: bold; }
        .yellow { color: #ffff00; }
        #res { text-align: left; background: #000; padding: 15px; margin-top: 15px; border: 1px dashed #0f0; overflow: auto; max-width: 750px; }
    </style>
</head>
<body>
    <div class="box">
        <h1>[ GWL CYBER RAT SYSTEM ]</h1>
        <input type="text" id="q" placeholder="Target (Email/Phone)...">
        <br>
        <button onclick="s()">EXECUTE SEARCH</button>
        <div id="status-box">System Idle...</div>
        <pre id="res">{}</pre>
    </div>
    <script>
        async function s() {
            const q = document.getElementById('q').value;
            const stat = document.getElementById('status-box');
            const res = document.getElementById('res');
            if(!q) return alert("Enter Target");

            stat.innerHTML = "<span class='yellow'>[STEP 1]</span> Contacting GWL Backend...";
            res.innerText = "{}";
            res.className = "";

            const fd = new FormData(); fd.append('query', q);
            try {
                const r = await fetch('/search', { method: 'POST', body: fd });
                const d = await r.json();

                if(d.status === "success") {
                    stat.innerHTML = "<span class='green'>[COMPLETE] Response Received! Data Found.</span>";
                    res.innerText = JSON.stringify(d.data, null, 4);
                    res.className = "green";
                } else if(d.status === "no_data") {
                    stat.innerHTML = "<span class='red'>[FAILED] " + d.msg + "</span>";
                    res.innerText = "NO RESPONSE";
                    res.className = "red";
                } else {
                    stat.innerHTML = "<span class='red'>[ERROR] " + d.msg + "</span>";
                    res.className = "red";
                }
            } catch(e) {
                stat.innerHTML = "<span class='red'>[CRASH] Server Connection Failed.</span>";
            }
        }
    </script>
</body>
</html>
